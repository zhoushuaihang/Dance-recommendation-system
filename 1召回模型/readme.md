# 召回阶段

为处理在复杂业务场景和大数据场景下的推荐问题，目前主流的工业级推荐业务流程一般划分为召回层以
及排序层两个阶段。召回算法是将用户可能感兴趣的物品从全量数据集中取出，由于物品候选库数量巨大，
使用的召回模型特点是简单高效，从而可以实现快速召回；排序层负责将召回的候选集按照用户可能点击
的概率进行精准排序，为提高排序的准确性，往往采用较为复杂的深度学习模型充分挖掘用户潜在的更深层次的
关系。两个阶段组合成推荐系统的数据流架构。


- **特征工程**，由于舞蹈视频相关数据数据经过初步的数据清洗后并不具有良好的特征表达，极大降低了机器学习模型对数据的拟合的效果，所以需要对数据进行特征工程以找到良好的特征表达。该数据集中存在的大量离散值特征，如用户 ID、舞蹈ID、舞蹈标题、舞蹈标签等等，将这些特征转换成特征向量，对非文本的离散值特征使用词嵌入方法,对文本特征用Word2vec模型进行无监督的学习训练,并且根据训练好的模型获得具语义相关性的词向量。

- **item_cf**，基于物品的协同过滤（item-based collaborative filtering）算法是最经典的推荐算法之一，同时也是业界应用最多的算法。该算法核心思想是：物品A和物品B具有很大的相似度的原因是喜欢物品A的用户大概率也喜欢物品B。
- **FM**，由于数据之间存在辛普森悖论，即在某个条件下的两组数据，分开讨论分析时会同时满足某种性质，而一旦合并属性，有可能得到相反的结论。为充分利用特征之间的线性关系，让模型学习到二阶交互特征。
- **DSSM**，该模型通过双塔深度神经网络将用户查询和文本分离地映射到同一隐语义空间中，进而实现用户查询和文本内容的表征与匹配。凭借其出色的隐语义提取与表征能力，DSSM被广泛地应用于推荐召回阶段实现用户与物品之间的匹配，其解决思路是分别从用户侧和物品侧构建对应的隐语义特征表示向量，并基于用户和物品的隐语义特征表示向量，通过余弦相似度计算得到候选物品的相似度排序结果，以获得个性化推荐召回候选物品子集。
- **YoutobeDNN**，YoutubeDNN是Youtube用于做视频推荐的落地模型，可谓推荐系统中的经典，其大体思路为召回阶段使用多个简单模型筛除大量相关度较低的样本，排序阶段使用较为复杂的模型获取精准的推荐结果。借用YoutobeDNN的网络模型，搭建适合该数据场景下的模型也取得不错的效果。